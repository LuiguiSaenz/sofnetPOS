{"version":3,"sources":["_components/PrivateRoute.js","HomePage/HomePage.js","_services/user.service.js","LoginPage/LoginPage.js","App/App.js","index.js"],"names":["PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","pathname","state","from","location","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","ComponentToPrint","this","carrito","length","map","pro","i","key","id","nombre","className","format","precio","totalidad","reduce","prev","cur","parseInt","final","descuento","descuentofinal","tiempo","datosempresa","razon","direccion","rut_empresa","giro1","borderTop","mostrarCarrito","tipopago","React","HomePage","handleChange","event","setState","filter","target","value","handleTipoPago","tipofinal","handleVuelto","cashInput","efectivo","handleSubmit","preventDefault","detalle","forEach","obj","Descuento","Cantidad","Bodega","Afecto","enviarBoleta","console","log","token","fetch","method","headers","body","JSON","stringify","then","pros","json","inputElement","click","setItem","catch","error","cola","push","handleDescuento","productos","parse","montofinal","curtime","Date","toLocaleString","bind","loading","producto","onClick","removerDelCarrito","href","posicion","carritoNew","splice","user","getProductos","getDatosEmpresa","setInterval","lowercasedFilter","toLowerCase","productosFiltrados","item","Object","keys","some","toString","includes","vuelto","onSubmit","float","marginTop","prueba","placeholder","onChange","info","agregarCarrito","codigo","type","trigger","ref","input","content","componentRef","el","userService","login","username","password","rut","requestOptions","authdata","window","btoa","logout","removeItem","LoginPage","submitted","e","name","history","htmlFor","disabled","alt","src","App","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.cf8decfd.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactToPrint from 'react-to-print';\n\nconst formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  })\n\n\n  class ComponentToPrint extends React.Component {\n\n    mostrarCarrito(){\n        if(this.props.carrito.length === 0){\n            return <h4>Sin productos en carrito</h4>\n        }\n\n        return(\n                \n                this.props.carrito.map((pro, i) => {\n                    return <tr key={i} >\n                        <td><p id={i}>1 {pro.nombre}  </p></td><td className=\"tdright\"><p>{formatter.format(pro.precio)} </p></td>\n                        </tr>\n                })\n\n        )\n    }\n\n    render() {\n\n        let totalidad = this.props.carrito.reduce((prev, cur) => prev+parseInt(cur.precio), 0);\n        let final = totalidad -  ( totalidad * parseInt(this.props.descuento) / 100);\n        let descuentofinal = totalidad * this.props.descuento / 100;\n\n      let tiempo = this.props.tiempo;\n\n      return (\n          <div>\n\n              <div className=\"encabezadoboleta\">\n                  \n                  <h4>{this.props.datosempresa.razon} </h4>\n                  <p>{this.props.datosempresa.direccion} </p>\n                  <p><b>RUT:</b> {this.props.datosempresa.rut_empresa} </p>\n                  <p><b>GIRO:</b> {this.props.datosempresa.giro1} </p>\n                  <p><b>FECHA:</b> {tiempo} </p>\n              </div>\n              <h4>COMPROBANTE DE VENTA</h4>\n        <table>\n          <thead>\n            <th>PRODUCTO</th>\n            <th className=\"tdright\">PRECIO UNIDAD</th>\n     \n          </thead>\n          <tbody style={{borderTop: '1px solid black'}}>\n            {this.mostrarCarrito()}\n            <tr style={{borderTop: '1px solid black'}}>\n                <td><p>SUBTOTAL</p></td>\n                <td className=\"tdright\">{ formatter.format(totalidad) } </td>\n            </tr>\n            <tr>\n                <td><p>DESCUENTO</p></td>\n                <td className=\"tdright\">{formatter.format(descuentofinal)} </td>\n            </tr>\n            <tr>\n                <td><p>TOTAL</p></td>\n                <td className=\"tdright\">{ formatter.format(final) }</td>\n            </tr>\n            <tr>\n                <td><p>TIPO DE PAGO</p></td>\n                <td className=\"tdright\"><p className=\"uppercase\">{this.props.tipopago} </p></td>\n            </tr>\n          </tbody>\n        </table>\n        </div>\n      );\n    }\n  }\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            productos: [],\n            carrito: JSON.parse(localStorage.getItem('carrito')),\n            filter: \"\",\n            descuento: 0,\n            montofinal: 0,\n            cola: JSON.parse(localStorage.getItem('cola')),\n            efectivo: 0,\n            tipopago: \"efectivo\",\n            datosempresa: \"\",\n            curtime: new Date().toLocaleString(),\n            token: JSON.parse(localStorage.getItem('user'))\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    getDatosEmpresa(token){\n\n        return fetch('http://apitest.softnet.cl/datoEmpresa', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'token': token\n            }\n        })\n        .then(datosempresa => datosempresa.json())\n        .then(datosempresa => {\n\n            localStorage.setItem('business', JSON.stringify(datosempresa[0]));\n            this.setState({ datosempresa: datosempresa[0] })\n        })\n        .catch(error => {\n            console.log(error);\n        });\n    }\n    \n    getProductos(token) {\n        this.setState({loading: true})\n        return fetch('http://api.softnet.cl/productos', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'token': token\n            }\n        })\n        .then(pros => pros.json())\n        .then(pros => {\n            console.log(pros)\n            localStorage.setItem('productos', JSON.stringify(pros));\n            this.setState({ productos: pros, loading: false })\n        })\n        .catch(error => {\n           console.log(error);\n        });\n    }\n\n    agregarCarrito(producto){\n        this.state.carrito.push(producto);\n        this.setState({carrito: this.state.carrito});\n        localStorage.setItem('carrito', JSON.stringify(this.state.carrito));\n    }\n\n    mostrarCarrito(){\n        if(this.state.carrito.length === 0){\n            return <h4>Sin productos en carrito</h4>\n        }\n\n        return(\n            <div className=\"carrito\">\n                \n                {this.state.carrito.map((pro, i) => {\n                    return <div key={i} className=\"productos-unitario\">\n                        <a onClick={() => this.removerDelCarrito(i)} href=\"javascript:void(0)\"><i className=\"fas fa-minus-circle\"></i></a> <p id={i}>1 {pro.nombre}  </p><b>{formatter.format(pro.precio)} </b>\n                        </div>\n                })}\n\n                \n            </div>\n        )\n    }\n\n    removerDelCarrito(posicion){\n        let carritoNew = this.state.carrito;\n\n        var removed = carritoNew.splice(posicion,1);\n\n        this.setState({carrito: carritoNew});\n        localStorage.setItem('carrito', JSON.stringify(carritoNew));\n        \n    }\n\n    componentDidMount() {\n        let user = JSON.parse(localStorage.getItem('user'));\n        this.getProductos(user.token);\n        this.getDatosEmpresa(user.token);\n        setInterval( () => {\n            this.setState({\n              curtime : new Date().toLocaleString()\n            })\n          },1000);\n\n          \n    }\n\n    handleChange = event => {\n        this.setState({ filter: event.target.value });\n      };\n\n\n      handleTipoPago = event => {\n        let tipofinal = event.target.value;\n        this.setState({ tipopago: tipofinal });\n      };\n\n      handleVuelto = event => {\n          let cashInput = 0;\n          if(event.target.value !== \"\"){\n            cashInput = event.target.value;\n          }\n        this.setState({ efectivo: cashInput });\n      };\n\n\n    handleSubmit = event => {\n\n        \n        event.preventDefault();\n        let totalidad = this.state.carrito.reduce((prev, cur) => prev+parseInt(cur.precio), 0);\n        let final = totalidad -  ( totalidad * parseInt(this.state.descuento) / 100);\n        let detalle = this.state.carrito;\n        detalle.forEach((obj) => obj.Descuento = \"0\");\n        detalle.forEach((obj) => obj.Cantidad = \"1\");\n        detalle.forEach((obj) => obj.Bodega = \"1989\");\n        detalle.forEach((obj) => obj.Afecto = false);\n        let enviarBoleta = [\n            {\n            \"Encabezado\": {\n            \"Receptor\": \"66666666-6\",\n            \"MontoNeto\": final,\n            \"Descuento\": this.state.descuento,\n            \"TipoDocumento\": \"39\",\n            \"AreaNegocio\": \"3609\",\n            \"Observacion\": \"observacion\",\n            \"Direccion\": \"123\"\n            },\n            \"Detalle\": detalle,\n            \"Adicional\": {\n            \"Uno\": \"4131\",\n            \"Dos\": \"11111111-1\",\n            \"Treinta\": \"123\"\n            }\n            }\n            ];\n\n            console.log(enviarBoleta);\n\n            let token = this.state.token.token;\n\n            console.log(token)\n\n            /*\n        let enviarBoleta = {\n            carrito: this.state.carrito,\n            descuento: this.state.descuento,\n            total: final\n        }\n        */\n        \n        fetch('http://api.softnet.cl/boleta', {\n            method: 'POST',\n            headers: {    \n            'Content-Type': 'application/x-www-form-urlencoded', \n            'token': token  \n        },\n            body: JSON.stringify({ enviarBoleta })\n        })\n        .then(pros => pros.json())\n        .then(pros => {\n            \n        console.log(pros)\n        ///// REINICIAR CARRITO ///////\n\n        this.inputElement.click();\n        this.setState({carrito: []});\n        localStorage.setItem('carrito', JSON.stringify(this.state.carrito));\n\n        })\n        .catch(error => {\n        \n        ///// GUARDAR BOLETA EN LA COLA DEL NAVEGADOR ///////\n        this.state.cola.push(enviarBoleta);\n        this.setState({cola: this.state.cola});\n        localStorage.setItem('cola', JSON.stringify(this.state.cola));\n\n        ///// REINICIAR CARRITO ///////\n\n        \n        this.inputElement.click();\n        this.setState({carrito: []});\n        localStorage.setItem('carrito', JSON.stringify(this.state.carrito));\n        });\n        \n      }\n\n    handleDescuento = event => {\n        let descuentofinal = 0;\n        if(event.target.value === \"\"){\n            descuentofinal = 0;\n        } else {\n            descuentofinal = event.target.value;\n        }\n        this.setState({ descuento: descuentofinal });\n      };\n\n    render() {\n\n        ////////// VALORES ///////////\n    const { filter, productos } = this.state;\n    const lowercasedFilter = filter.toLowerCase();\n    const productosFiltrados = productos.filter(item => {\n      return Object.keys(item).some(key =>\n        item[key].toString().toLowerCase().includes(lowercasedFilter)\n      );\n    });\n    let totalidad = this.state.carrito.reduce((prev, cur) => prev+parseInt(cur.precio), 0);\n    let final = totalidad -  ( totalidad * parseInt(this.state.descuento) / 100);\n    \n    let vuelto = parseInt(this.state.efectivo) - final;\n    \n    \n    return (\n            <div className=\"row\">\n<form onSubmit={this.handleSubmit}>\n<div className=\"col-md-6 col-md-6\">\n<h2 className=\"titulocart\">CARRITO</h2><Link style={{ float: \"right\", marginTop: -35}} to=\"/login\">Salir</Link>\n\n<h4 className=\"contadorcart\">{this.state.carrito.length} Productos</h4>\n<p className=\"clear\"></p>\n                {this.mostrarCarrito()}\n            </div>\n            <div className=\"col-md-6 col-md-6\">\n                <h2>PRODUCTOS { JSON.stringify(this.state.prueba) } </h2>\n                <input placeholder=\"BUSCAR PRODUCTOS\" className=\"form-control\" value={filter} onChange={this.handleChange} />\n                <div className=\"contenedor-productos\">\n                {productosFiltrados.map((info, i) => {\n            return <div className=\"boxproducto\" key={i} onClick={() => this.agregarCarrito(info)} key={i}><h4 className=\"left\" > {info.nombre} </h4><p className=\"hide\">{info.codigo} </p> <h4 className=\"right\">{formatter.format(info.precio)} </h4></div>;\n        })}\n        </div>\n\n        <h3>TOTAL: {formatter.format(final)}</h3>\n        <div className=\"form-group\"> \n        <label className=\"form-label\">TIPO DE PAGO</label>\n        <select className=\"form-control\" onChange={this.handleTipoPago}>\n                <option value=\"efectivo\">EFECTIVO</option>\n                <option value=\"debito\">DEBITO</option>\n                <option value=\"credito\">CRÉDITO</option>\n        </select>\n\n        </div>\n\n        <div className=\"form-group\"> \n        <label className=\"form-label\">TIPO DE DOCUMENTO</label>\n        <select className=\"form-control\">\n                <option value=\"BOLETA SIMPLE\">BOLETA SIMPLE</option>\n                <option value=\"BOLETA DETALLE\">BOLETA DETALLE</option>\n                <option value=\"FACTURA\">FACTURA</option>\n        </select>\n        </div>\n\n        <div className=\"form-group\"> \n        <label className=\"form-label\">DESCUENTO - Porcentaje</label>\n        <input placeholder= \"DESCUENTO\" className=\"form-control\" onChange={this.handleDescuento} />\n        </div>\n\n\n        <div className=\"col-medium\">\n            <label className=\"form-label\">Monto a pagar</label>\n            <input placeholder=\"MONTO\" className=\"form-control\" onChange={this.handleVuelto} />\n        </div>\n\n        <div className=\"col-medium\">\n            <label className=\"form-label\">Vuelto</label>\n            <input placeholder=\"VUELTO\" className=\"form-control\" value={formatter.format(vuelto)} />\n        </div>\n        <input className=\"btn btn-sucess\" type=\"submit\" value=\"FINALIZAR Y PAGAR\" />\n                \n            </div>\n            </form>\n\n            <ReactToPrint\n          trigger={() => <a ref={input => this.inputElement = input} className=\"hide\" href=\"javascript:void(0)\">IMPRIMIR</a>}\n          content={() => this.componentRef}\n        />\n        <ComponentToPrint tiempo={this.state.curtime} datosempresa={this.state.datosempresa} tipopago={this.state.tipopago} descuento={this.state.descuento} carrito={this.state.carrito} ref={el => (this.componentRef = el)} />\n            </div>\n        );\n    }\n}\n\nexport { HomePage };","// import { authHeader } from '../_helpers';\n\nexport const userService = {\n    login,\n    logout\n};\n\nfunction login(username, password, rut) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        body: JSON.stringify({ username, password, rut })\n    }; \n\n\n\n    \n\n    return fetch(`http://api.softnet.cl/login`, requestOptions)\n        .then(user => user.json())\n        .then(user => {\n\n            if (user.token) {\n\n                user.authdata = window.btoa(username + ':' + password);\n                localStorage.setItem('user', JSON.stringify(user));\n                localStorage.setItem('carrito', JSON.stringify([]));\n                localStorage.setItem('cola', JSON.stringify([]));\n            }\n\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n    localStorage.removeItem('carrito');\n    localStorage.removeItem('productos');\n}\n","import React from 'react';\n\nimport { userService } from '../_services';\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        userService.logout();\n\n        this.state = {\n            username: '',\n            password: '',\n            rut:'',\n            submitted: false,\n            loading: false,\n            error: ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        this.setState({ submitted: true });\n        const { username, password, rut } = this.state;\n\n        // stop here if form is invalid\n        if (!(username && password && rut)) {\n            return;\n        }\n\n        this.setState({ loading: true });\n        userService.login(username, password, rut)\n            .then(\n                user => {\n                    const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n                    this.props.history.push(from);\n                },\n                error => this.setState({ error, loading: false })\n            );\n    }\n\n    render() {\n        const { username, password, rut, submitted, loading, error } = this.state;\n        return (\n            <div className=\"col-md-6 col-md-offset-3\">\n                <h2>Iniciar Sesión</h2>\n                <form name=\"form\" onSubmit={this.handleSubmit}>\n                    <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\n                        <label htmlFor=\"username\">Usuario</label>\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} />\n                        {submitted && !username &&\n                            <div className=\"help-block\">Username is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !rut ? ' has-error' : '')}>\n                        <label htmlFor=\"rut\">RUT</label>\n                        <input type=\"text\" className=\"form-control\" name=\"rut\" value={rut} onChange={this.handleChange} />\n                        {submitted && !rut &&\n                            <div className=\"help-block\">rut is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\n                        {submitted && !password &&\n                            <div className=\"help-block\">Password is required</div>\n                        }\n                    </div>\n                    <div className=\"form-group\">\n                        <button className=\"btn btn-primary\" disabled={loading}>ENTRAR</button>\n                        {loading &&\n                            <img alt=\"a\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                        }\n                    </div>\n                    {error &&\n                        <div className={'alert alert-danger'}>{error}</div>\n                    }\n                </form>\n            </div>\n        );\n    }\n}\n\nexport { LoginPage }; ","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport { PrivateRoute } from '../_components';\nimport { HomePage } from '../HomePage';\nimport { LoginPage } from '../LoginPage';\n\nclass App extends React.Component {\n    render() {\n        return (\n            <div className=\"jumbotron\">\n                <div className=\"container\">\n                    <div className=\"col-sm-12\">\n                        <Router>\n                            <div>\n                                <PrivateRoute exact path=\"/\" component={HomePage} />\n                                <Route path=\"/login\" component={LoginPage} />\n                            </div>\n                        </Router>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport { App }; ","import React from 'react';\nimport { render } from 'react-dom';\n\nimport { App } from './App';\n\nrender(\n    <App />,\n    document.getElementById('app')\n);"],"sourceRoot":""}